<h1>Dog List</h1>

<button onClick="window.location.href='/dogs/newdog'">Add a New Dog</button>

<% 
// Filter dogs that haven't been adopted
const availableDogs = dogs.filter(dog => !dog.adoptedBy && dog.status !== 'Removed');
%>

<% if (availableDogs.length === 0) { %>
  <p>No dogs available yet.</p>
<% } else { %>
<ul>
  <% availableDogs.forEach(dog => { %>
    <li style="margin-bottom: 20px;">
      <strong>Name:</strong> <%= dog.name %> <br>
      <strong>Description:</strong> <%= dog.description %>
      <strong>Owner:</strong> <%= dog.owner ? dog.owner.username : "Unknown" %>
      <button onClick="window.location.href='/dogs/<%= dog._id %>/adoptDogForm'">Adopt This Dog</button>
      <form action="/dogs/<%= dog._id %>/remove" method="post" style="display:inline;">
        <button type="submit">Remove Dog</button>
      </form>
    </li>
  <% }) %>
</ul>
<% } %>
